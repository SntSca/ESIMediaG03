<div class="auth-container">
  <h2>Crear Cuenta</h2>

  <form #f="ngForm" (ngSubmit)="onSubmit(f)">

    <!-- Campos del formulario -->
    <input class="input" name="nombre" [(ngModel)]="nombre" required placeholder="Nombre *">
    <input class="input" name="apellidos" [(ngModel)]="apellidos" required placeholder="Apellidos *">
    <input class="input" name="email" type="email" [(ngModel)]="email" required placeholder="Email *">
    <input class="input" name="alias" [(ngModel)]="alias" placeholder="Alias (opcional)">
    <input class="input" name="fechaNac" type="date" [(ngModel)]="fechaNac" required placeholder="Fecha Nacimiento *">

    <select class="input role-select" name="role" [(ngModel)]="role" required>
      <option value="" disabled selected>Selecciona un rol *</option>
      <option value="usuario">Usuario</option>
      <option value="Gestor de Contenido">Gestor de Contenido</option>
      <option value="Administrador">Administrador</option>
    </select>

    <div class="password-field">
      <input class="input" [type]="showPwd ? 'text' : 'password'" name="pwd" [(ngModel)]="pwd" required minlength="8" placeholder="ContraseÃ±a *">
      <button type="button" class="toggle-eye" (click)="showPwd = !showPwd">{{ showPwd ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}</button>
    </div>

    <div class="password-field">
      <input class="input" [type]="showPwd2 ? 'text' : 'password'" name="pwd2" [(ngModel)]="pwd2" required placeholder="Repetir ContraseÃ±a *">
      <button type="button" class="toggle-eye" (click)="showPwd2 = !showPwd2">{{ showPwd2 ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}</button>
    </div>

    <!-- BotÃ³n de avatar -->
    <div class="avatar-button-container">
      <button type="button" class="btn" (click)="showAvatarModal = true">
        {{ selectedAvatar ? 'Cambiar Avatar' : 'Elegir Avatar' }}
      </button>
      <div *ngIf="selectedAvatar" class="selected-avatar-preview">
        <img [src]="selectedAvatar" alt="avatar seleccionado">
      </div>
    </div>

    <label class="chkline">
      <input type="checkbox" [(ngModel)]="vip" name="vip">
      Â¿Quiere usted ser VIP?
    </label>

    <label class="chkline terms">
      <input type="checkbox" [(ngModel)]="termsAccepted" name="termsAccepted" required>
      Acepto los <a href="#" target="_blank">TÃ©rminos</a> y la <a href="#" target="_blank">PolÃ­tica de Privacidad</a> *
    </label>

    <button class="btn" type="submit" [disabled]="f.invalid || !termsAccepted">
      Registrar
    </button>

  </form>

  <!-- Modal de selecciÃ³n de avatar -->
  <div class="avatar-modal" *ngIf="showAvatarModal">
    <div class="avatar-modal-overlay" (click)="showAvatarModal = false"></div>
    <div class="avatar-modal-content">
      <h3>Elige tu avatar</h3>
      <div class="avatar-grid">
        <div *ngFor="let avatar of avatars"
             class="avatar-option"
             [class.selected]="selectedAvatar === avatar"
             (click)="selectedAvatar = avatar; showAvatarModal = false;">
          <img [src]="avatar" alt="avatar">
        </div>
      </div>
      <button class="btn close-btn" (click)="showAvatarModal = false">Cerrar</button>
    </div>
  </div>
</div>
