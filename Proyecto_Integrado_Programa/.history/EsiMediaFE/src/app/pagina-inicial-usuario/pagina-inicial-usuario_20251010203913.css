@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

/* =========================
   Variables y base
   ========================= */
:root{
  --bg:#0f0f0f;            /* fondo global más oscuro */
  --panel:#161616;         /* paneles/cards */
  --ink:#f3f3f3;           /* texto principal */
  --muted:#bdbdbd;         /* texto secundario */
  --brand:#e50914;         /* rojo Netflix-like */
  --blue:#1786ff;          /* azul acción */
  --stroke:#2a2a2a;        /* borde sutil */
  --shadow:0 18px 40px rgba(0,0,0,.55);
  --radius:14px;

  --card-w: 220px;         /* ancho póster */
  --card-h: 330px;         /* alto póster */
}

:host, html, body{
  margin:0; padding:0;
  font-family:'Poppins', Arial, sans-serif;
  background:var(--bg);
  color:var(--ink);
  height:100%;
  overflow-x:hidden; /* evita scroll horizontal */
}

/* =========================
   Header usuario
   ========================= */
.usuario-header{
  position:sticky; top:0; z-index:100;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:14px 18px;
  background:#000;
  box-shadow:0 2px 10px rgba(0,0,0,.5);
}

.usuario-info{ display:flex; align-items:center; gap:12px; min-width:0; }

.avatar{
  width:46px; height:46px; border-radius:50%;
  background:linear-gradient(45deg, var(--brand), #f40612);
  display:flex; align-items:center; justify-content:center;
  font-weight:700;
}

.datos{ display:flex; flex-direction:column; min-width:0; }
.nombre{ font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.email{ color:var(--muted); font-size:.9rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.btn-cerrar{
  background:var(--brand); color:#fff; border:none; border-radius:10px;
  padding:10px 14px; font-weight:700; cursor:pointer;
  transition:transform .08s, background .2s;
}
.btn-cerrar:hover{ transform:translateY(-1px); background:#f40612; }

/* =========================
   Filtros
   ========================= */
.filtros{
  display:grid;
  grid-template-columns: 1fr repeat(4, max-content) max-content;
  gap:12px; padding:16px 18px;
  border-bottom:1px solid var(--stroke);
  background:var(--bg);
  align-items:center;
  overflow-x:auto;
}

.filtros input, .filtros select{
  background:#1d1d1d; color:var(--ink);
  border:1px solid var(--stroke); border-radius:10px;
  padding:11px 12px; min-width:180px;
  transition:border-color .2s, box-shadow .2s;
}
.filtros input::placeholder{ color:#8a8a8a; }
.filtros input:focus, .filtros select:focus{
  outline:none; border-color:var(--brand);
  box-shadow:0 0 0 3px rgba(229,9,20,.25);
}

@media (max-width: 1080px){
  .filtros{ grid-template-columns: 1fr 1fr; }
}

/* =========================
   Tabs
   ========================= */
.tabs{
  display:flex; gap:10px; padding:12px 18px;
  border-bottom:1px solid var(--stroke);
  background:var(--bg);
}
.tab-btn{
  background:#1b1b1b; color:var(--ink);
  border:1px solid var(--stroke); border-radius:999px;
  padding:9px 16px; font-weight:700; cursor:pointer;
  transition:transform .08s, background .2s, border-color .2s;
}
.tab-btn:hover{ transform:translateY(-1px); background:#242424; }
.tab-btn.active{ background:var(--brand); border-color:var(--brand); }

/* =========================
   Contenidos wrapper
   ========================= */
.contenidos{ display:grid; gap:16px; padding:16px 18px; }
.contenidos h2{ margin:8px 0 0 6px; font-size:1.2rem; letter-spacing:.2px; }

.error{
  background:rgba(229,9,20,.15);
  border:1px solid rgba(229,9,20,.45);
  color:#fff; padding:12px; border-radius:12px;
}

/* =========================
   Carrusel (Rail)
   ========================= */
.rail{ position:relative; margin-bottom:6px; }
.rail-track{
  display:flex; gap:14px; padding:14px 44px;
  overflow-x:auto; scroll-behavior:smooth;
}
.rail-track::-webkit-scrollbar{ height:8px; }
.rail-track::-webkit-scrollbar-thumb{
  background:rgba(255,255,255,.18); border-radius:999px;
}

.rail-btn{
  position:absolute; top:50%; transform:translateY(-50%);
  width:40px; height:62%; min-height:140px;
  border:none; border-radius:10px;
  background:rgba(0,0,0,.65); color:#fff; font-size:24px; cursor:pointer; z-index:10;
  transition:background .2s, transform .08s;
  box-shadow:var(--shadow);
}
.rail-btn:hover{ background:rgba(0,0,0,.82); transform:translateY(-50%) scale(1.03); }
.rail-btn.prev{ left:6px; }
.rail-btn.next{ right:6px; }

/* =========================
   Card (carátula)
   ========================= */
.card{
  position:relative;
  flex:0 0 var(--card-w);
  height:var(--card-h);
  border-radius:12px; overflow:hidden;
  background:var(--panel); border:1px solid var(--stroke);
  box-shadow:0 10px 26px rgba(0,0,0,.35);
  transition:transform .16s ease, box-shadow .2s ease, border-color .2s ease;
}
.card:hover{
  transform:scale(1.07); z-index:5;
  box-shadow:0 26px 60px rgba(0,0,0,.6); border-color:#3a3a3a;
}

/* Poster (si no hay imagen real) */
.poster{
  position:absolute; inset:0; display:grid; place-items:center;
  background:linear-gradient(135deg, #0c0c0c 0%, #1b1b1b 100%);
}
.poster img{ width:100%; height:100%; object-fit:cover; display:block; }
.poster-fallback{ font-size:54px; opacity:.9; }

/* Info sobrepuesta al hover */
.card-info{
  position:absolute; left:0; right:0; bottom:0;
  transform:translateY(100%); transition:transform .18s ease;
  padding:12px;
  background:linear-gradient(180deg, rgba(0,0,0,0) 0, rgba(0,0,0,.85) 45%, rgba(0,0,0,.96) 100%);
  pointer-events:none;
}
.card:hover .card-info{ transform:translateY(0); }

.card-title{
  font-weight:800; font-size:.98rem; display:flex; align-items:center; gap:6px; flex-wrap:wrap;
}
.card-desc{
  margin-top:4px; color:var(--muted);
  font-size:.9rem; line-height:1.32;
  max-height:3.1em; overflow:hidden;
}
.card-meta{ display:flex; gap:12px; margin-top:6px; font-size:.82rem; color:#d7d7d7; flex-wrap:wrap; }
.card-tags{ margin-top:6px; display:flex; gap:6px; flex-wrap:wrap; }
.tag{
  padding:3px 9px; border-radius:999px;
  background:#232323; border:1px solid #3a3a3a;
  font-size:.72rem; color:#eaeaea;
}

/* Chips */
.chip{ padding:2px 8px; border-radius:999px; font-size:.72rem; border:1px solid transparent; }
.chip-vip{ background:var(--brand); border-color:var(--brand); color:#fff; }
.chip-tipo{ background:#202020; border-color:#3a3a3a; }

/* =========================
   Corazón favorito (animado)
   ========================= */
.heart{
  position:absolute; top:10px; right:10px;
  width:38px; height:38px; border-radius:50%;
  display:grid; place-items:center;
  background:rgba(0,0,0,.55); border:1px solid rgba(255,255,255,.15);
  cursor:pointer; z-index:6;
  transition:transform .08s, background .2s, border-color .2s;
}
.heart:hover{ transform:scale(1.06); background:rgba(0,0,0,.78); }
.heart-svg{ width:22px; height:22px; fill:rgba(255,255,255,.88); transition:fill .18s; }
.heart.liked .heart-svg{ fill:var(--brand); animation:pop .28s ease; }

@keyframes pop{
  0%{ transform:scale(.7); }
  60%{ transform:scale(1.18); }
  100%{ transform:scale(1); }
}

/* =========================
   Mensajería simple
   ========================= */
.contenidos .empty,
.contenidos .loading,
.contenidos .error{
  border-radius:12px; padding:12px 14px;
}

/* =========================
   Responsivo (cards)
   ========================= */
@media (max-width: 1280px){
  :root{ --card-w: 200px; --card-h: 300px; }
}
@media (max-width: 980px){
  :root{ --card-w: 180px; --card-h: 270px; }
}
@media (max-width: 720px){
  :root{ --card-w: 160px; --card-h: 240px; }
}

/* =========================
   Accesibilidad
   ========================= */
:focus-visible{
  outline:3px solid rgba(23,134,255,.5);
  outline-offset:2px; border-radius:10px;
}
